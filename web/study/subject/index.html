{% extends "base.html" %}

{% block content %}

<div class="d-flex">
    <h1>{{ _("Subjects list") }}</h1>
    <div class="flex-grow-1"></div>
    <div>
        <a class="btn btn-primary" href="{{ url_for('.new', study_id=study_id) }}">{{ _("New") }}</a>
    </div>
</div>



{% with data={ "dateFormat": _("yyyy-MM-dd"), 
               "datetimeFormat": _("yyyy-MM-dd HH:mm:ss"),
               "showURL": url_for(".show", study_id=study_id, subject_id=":subject_id")} %}
<div x-data='subjectsTable({{ data | tojson }})'>
    <table class="table" x-ref="table"></table>
</div>
{% endwith %}

{% endblock %}

{% block scripts %}

{% assets filters="typescript", output="./study/subject/index.js", "study/subject/index.ts" %}
    <script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}

{{ super() }}

{% endblock %}
